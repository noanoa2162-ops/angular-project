<div class="profile-page">
  <div class="profile-container">
    <!-- Header -->
    <div class="page-header">
      <button class="btn-back" (click)="goBack()">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <h1>Profile Settings</h1>
    </div>

    <!-- Success Message -->
    @if (saveSuccess()) {
      <div class="success-banner">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2"/>
          <path d="M22 4 12 14.01l-3-3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Profile saved successfully!</span>
      </div>
    }

    <!-- Avatar Section -->
    <div class="avatar-section">
      <div class="avatar-wrapper">
        <div class="avatar">{{ getUserInitial() }}</div>
        <button class="avatar-edit">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2"/>
            <circle cx="12" cy="13" r="4" stroke="currentColor" stroke-width="2"/>
          </svg>
        </button>
      </div>
      <div class="avatar-info">
        <h2>{{ userName() }}</h2>
        <p>{{ userEmail() }}</p>
      </div>
    </div>

    <!-- Form -->
    <div class="profile-form">
      <!-- Personal Information -->
      <div class="form-section">
        <div class="section-header">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
          </svg>
          <h3>Personal Information</h3>
        </div>
        
        <div class="form-grid">
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" [(ngModel)]="name" placeholder="Enter your name">
          </div>
          
          <div class="form-group">
            <label>Email Address</label>
            <input type="email" [(ngModel)]="email" placeholder="Enter your email">
          </div>
          
          <div class="form-group">
            <label>Phone Number</label>
            <input type="tel" [(ngModel)]="phone" placeholder="+1 (555) 000-0000">
          </div>
          
          <div class="form-group">
            <label>Job Title</label>
            <input type="text" [(ngModel)]="jobTitle" placeholder="e.g. Product Manager">
          </div>
        </div>
      </div>

      <!-- Bio -->
      <div class="form-section">
        <div class="section-header">
          <svg viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <h3>Bio</h3>
        </div>
        <div class="form-group full">
          <label>About You</label>
          <textarea [(ngModel)]="bio" rows="4" placeholder="Tell us a bit about yourself..."></textarea>
        </div>
      </div>

      <!-- Change Password -->
      <div class="form-section">
        <div class="section-header">
          <svg viewBox="0 0 24 24" fill="none">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="currentColor" stroke-width="2"/>
          </svg>
          <h3>Change Password</h3>
        </div>
        <div class="form-grid">
          <div class="form-group">
            <label>Current Password</label>
            <input type="password" [(ngModel)]="currentPassword" placeholder="••••••••">
          </div>
          
          <div class="form-group">
            <label>New Password</label>
            <input type="password" [(ngModel)]="newPassword" placeholder="••••••••">
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="form-actions">
        <button class="btn-cancel" (click)="goBack()">Cancel</button>
        <button class="btn-save" (click)="saveProfile()" [disabled]="isSaving()">
          @if (isSaving()) {
            <div class="spinner"></div>
            Saving...
          } @else {
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M20 6L9 17l-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Save Changes
          }
        </button>
      </div>
    </div>
  </div>
</div>
