<div class="dialog-container">
  <div class="dialog-header">
    <h2>Add Member</h2>
    <p>Add a new member to {{ data.teamName }}</p>
  </div>
  
  <div class="dialog-content">
    <!-- Success Message -->
    @if (success()) {
      <div class="success-banner">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M22 4 12 14.01l-3-3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Member added successfully!</span>
      </div>
    } @else {
      <!-- User ID Input -->
      <div class="form-group">
        <label class="form-label">User ID</label>
        <div class="input-wrapper">
          <svg viewBox="0 0 24 24" fill="none" class="input-icon">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
          </svg>
          <input 
            type="number" 
            [(ngModel)]="userId" 
            placeholder="Enter user ID (e.g., 1, 2, 3...)"
            class="form-input"
            [class.input-error]="error()"
            min="1"
            [disabled]="isLoading()">
        </div>
        @if (userId !== null && userId <= 0) {
          <span class="error-text">Please enter a valid user ID (positive number)</span>
        }
      </div>

      <!-- Error Banner -->
      @if (error()) {
        <div class="error-banner">
          <svg viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M15 9l-6 6M9 9l6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span>{{ error() }}</span>
        </div>
      }

      <div class="info-text">
        <svg viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
          <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>Ask the user for their ID number to add them to this team</span>
      </div>
    }
  </div>
  
  <div class="dialog-actions">
    <button class="btn-cancel" (click)="onCancel()" [disabled]="isLoading()">
      {{ success() ? 'Close' : 'Cancel' }}
    </button>
    @if (!success()) {
      <button 
        class="btn-primary" 
        [disabled]="!isValidUserId() || isLoading()"
        (click)="onAdd()">
        @if (isLoading()) {
          <mat-spinner diameter="20"></mat-spinner>
          Adding...
        } @else {
          Add Member
        }
      </button>
    }
  </div>
</div>
